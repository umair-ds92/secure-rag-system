# Configuration for Secure RAG System

# Vector Database Configuration
vector_store:
  provider: "chromadb"
  collection_name: "secure_documents"
  persist_directory: "./data/chroma_db"
  embedding_model: "all-MiniLM-L6-v2"
  distance_metric: "cosine"

# Document Processing Configuration
document_processing:
  chunk_size: 512
  chunk_overlap: 50
  min_chunk_size: 100
  max_chunk_size: 1000
  separators: ["\n\n", "\n", ".", "!", "?", ";", ":", " ", ""]
  
  # Supported file types
  supported_formats:
    - ".txt"
    - ".pdf"
    - ".docx"
    - ".md"
    - ".html"

# Retrieval Configuration
retrieval:
  default_k: 5
  max_k: 20
  similarity_threshold: 0.7
  reranking_enabled: false
  diversity_penalty: 0.0

# Generation Configuration
generation:
  provider: "openai"
  model: "gpt-4"
  temperature: 0.1
  max_tokens: 500
  top_p: 0.95
  frequency_penalty: 0.0
  presence_penalty: 0.0
  
  # System prompts
  system_prompt: |
    You are a helpful AI assistant that answers questions based on provided context.
    Always cite your sources using [1], [2], etc. format.
    If the context doesn't contain enough information, say so clearly.
    Do not make up information or speculate beyond what's in the context.

# Security Configuration
security:
  enable_input_sanitization: true
  enable_output_filtering: true
  enable_pii_detection: true
  enable_prompt_injection_detection: true
  max_query_length: 1000
  blocked_patterns:
    - "ignore previous instructions"
    - "system override"
    - "admin mode"
    - "bypass security"

# Logging Configuration
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "./logs/secure_rag.log"
  max_bytes: 10485760  # 10MB
  backup_count: 5

# Performance Configuration
performance:
  batch_size: 32
  cache_enabled: true
  cache_ttl: 3600  # 1 hour
  timeout_seconds: 30